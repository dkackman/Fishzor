<img src="@GetFishImagePath()" alt="@Color" style="@($"transform: scale({Scale});")" />

@code {
    public FishColor Color { get; set; } = FishColor.Orange;
    public string Scale { get; set; } = "100.0";
    public string FrameDuration { get; set; } = "100";
    public Direction Direction { get; set; } = Direction.Left;

    protected override void OnInitialized()
    {
        var random = new Random();
        Color = GetRandomColor(random);
        var scaleValue = random.NextDouble() * (1.00 - 0.5) + 0.5; 
        Scale = scaleValue.ToString("0.##"); 
        Direction = random.Next(0, 2) == 0 ? Direction.Left : Direction.Right;
    }

    private string GetFishImagePath()
    {
        return $"fish/{Color}/{Direction}-{FrameDuration}.gif";
    }

    public FishColor GetRandomColor(Random random)
    {
        var values = Enum.GetValues(typeof(FishColor));
        var randomIndex = random.Next(values.Length);
        return (FishColor)(values.GetValue(randomIndex) ?? FishColor.Orange);
    }
}
